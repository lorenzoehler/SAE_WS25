---
title: "Draw Samples"
author: "Lorenz Alban Oehler"
output:
  html_document:
    theme: flatly      
    toc: true          
    toc_float: true    
    toc_depth: 4       
    highlight: tango   
    df_print: paged    
    css: styles.css 
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Purpose
In this script we  will draw the samples from the already processed census

# load data
```{r}
dat <- readRDS("../data_raw/2024_census/processed/dat_dummyCoding.RDS")
```


```{r eval=FALSE, include=TRUE}
#### sample size for simulation
n_size_simulation <- 200
path_folder_samples <- "../data_raw/samples/transformed-2/"

## only draw samples with aestudio value
dat <- dat[!is.na(dat$aestudio),]

for(i in 1:n_size_simulation){
tmp_sample <- dat %>%
  group_by(ID_prov) %>%
  slice_sample(n = 20) %>%
  ungroup()

  doc_name <- paste0(path_folder_samples,"sample_",sprintf("%03.0f",i),".RDS")
  saveRDS(tmp_sample,doc_name)
}

```
 


